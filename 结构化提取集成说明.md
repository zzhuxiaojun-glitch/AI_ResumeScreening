# ç»“æ„åŒ–æå–åŠŸèƒ½ - é›†æˆè¯´æ˜

## åŠŸèƒ½æ¦‚è¿°

å·²æˆåŠŸä¸º AI ç®€å†ç­›é€‰ ATS ç³»ç»Ÿå®ç°"å¯æ’æ‹”çš„ç»“æ„åŒ–æå–æ¶æ„"ï¼Œæ”¯æŒä» raw_text ä¸­æå–ç»“æ„åŒ–å­—æ®µï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾æ›¿æ¢æå–å®ç°ï¼ˆè§„åˆ™â†’AIâ†’OCRï¼‰ï¼Œæ— éœ€ä¿®æ”¹ä¸»æµç¨‹ã€‚

## âœ… æ ¸å¿ƒç›®æ ‡è¾¾æˆæƒ…å†µ

### 1. å¯æ’æ‹”æ¶æ„ âœ…
- âœ… ç»“æ„åŒ–æå–ä»ä¸»æµç¨‹ä¸­å®Œå…¨æŠ½ç¦»
- âœ… å®šä¹‰ç»Ÿä¸€çš„ StructuredExtractor æ¥å£
- âœ… æä¾› ExtractorFactory å·¥å‚æ¨¡å¼
- âœ… é€šè¿‡ç¯å¢ƒå˜é‡åˆ‡æ¢å®ç°ï¼ˆEXTRACTOR_TYPEï¼‰
- âœ… æœªæ¥å¯æ— ç¼æ¥å…¥ AI/OCR æå–å™¨

### 2. å­—æ®µæå– âœ…
å½“å‰å®ç°ï¼ˆåŸºäºè§„åˆ™/æ­£åˆ™ï¼‰å¯æå–ï¼š
- âœ… å§“å (name)
- âœ… å­¦æ ¡ (school)
- âœ… å­¦å† (education)
- âœ… å¹´é¾„ (age)
- âœ… æ€§åˆ« (gender)

é™„åŠ å­—æ®µï¼ˆå…¼å®¹ç°æœ‰ç³»ç»Ÿï¼‰ï¼š
- âœ… ç”µè¯ (phone)
- âœ… é‚®ç®± (email)
- âœ… ä¸“ä¸š (major)
- âœ… æ¯•ä¸šæ—¶é—´ (graduation_date)
- âœ… å·¥ä½œå¹´é™ (work_years)
- âœ… æŠ€èƒ½ (skills)
- âœ… é¡¹ç›®ç»éªŒ (projects)

### 3. é²æ£’æ€§ âœ…
- âœ… æå–ä¸åˆ°æ—¶è¿”å›ç©ºå€¼/unknownï¼Œä¸æŠ¥é”™ä¸­æ–­
- âœ… çº¯å‡½æ•°å®ç°ï¼Œæ— å‰¯ä½œç”¨
- âœ… å¯¹å¼‚å¸¸ raw_textï¼ˆç©ºã€è¿‡çŸ­ã€ä¹±ç ï¼‰ç¨³å¥å¤„ç†
- âœ… ä¸å°†ç®€å†å…¨æ–‡æ‰“è¿›æ—¥å¿—

### 4. æ•°æ®å­˜å‚¨ âœ…
- âœ… age/gender å­—æ®µå†™å…¥ candidates è¡¨é¡¶å±‚
- âœ… å®Œæ•´ç»“æ„åŒ–ç»“æœå†™å…¥ extraction_metadata.structured
- âœ… åŒ…å«æå–æ–¹æ³•ã€ç½®ä¿¡åº¦ã€è­¦å‘Šã€é”™è¯¯ç­‰å…ƒæ•°æ®

### 5. UI å±•ç¤º âœ…
- âœ… Candidates åˆ—è¡¨é¡µæ˜¾ç¤ºï¼šname/school/education/age/gender
- âœ… è¯¦æƒ…é¡µå®Œæ•´å±•ç¤ºæ‰€æœ‰å­—æ®µ
- âœ… ç©ºå€¼æ˜¾ç¤ºä¸º "N/A" æˆ– "unknown"
- âœ… ä¿ç•™ raw_text å±•ç¤ºåŒºç”¨äºäººå·¥å¤æ ¸

### 6. å¯æ‰©å±•æ€§ âœ…
- âœ… æ¥å£æ¸…æ™°ï¼Œæ˜“äºæ·»åŠ æ–°æå–å™¨
- âœ… ä¸å½±å“ä¸»æµç¨‹ï¼Œæ’ä»¶å¼æ›¿æ¢
- âœ… æ”¯æŒæœªæ¥æ¥å…¥ AI/OCR/å¤šè¯­è¨€æå–å™¨

## ğŸ“¦ äº¤ä»˜å†…å®¹

### 1. æ ¸å¿ƒæ¨¡å—

**æå–å™¨æ¥å£** - `supabase/functions/shared/extractor-interface.ts`
- å®šä¹‰ StructuredExtractor æ¥å£
- å®šä¹‰ ExtractionResult å’Œ StructuredData æ•°æ®ç»“æ„
- ä½œä¸ºæ‰€æœ‰æå–å™¨å®ç°çš„å¥‘çº¦

**æå–å™¨å·¥å‚** - `supabase/functions/shared/extractor-factory.ts`
- æ’ä»¶é€‰æ‹©å™¨ï¼Œæ ¹æ® EXTRACTOR_TYPE ç¯å¢ƒå˜é‡é€‰æ‹©å®ç°
- æ”¯æŒ "rule-based"ã€"ai"ã€"ocr" ç±»å‹
- å½“å‰é»˜è®¤ä½¿ç”¨ "rule-based"

**è§„åˆ™æå–å™¨** - `supabase/functions/shared/rule-based-extractor.ts`
- åŸºäºæ­£åˆ™å’Œå¯å‘å¼è§„åˆ™çš„ä¸´æ—¶å®ç°
- æå– 5 ä¸ªæ ¸å¿ƒå­—æ®µ + é™„åŠ å­—æ®µ
- è¿”å›ç½®ä¿¡åº¦åˆ†æ•°ï¼ˆ0-100ï¼‰
- å¤„ç†å¼‚å¸¸æƒ…å†µï¼Œä»ä¸æŠ›å‡ºé”™è¯¯

### 2. æ•°æ®åº“æ›´æ–°

**è¿ç§»æ–‡ä»¶** - `supabase/migrations/*_add_age_gender_fields.sql`

æ–°å¢å­—æ®µï¼š
```sql
age integer NULL          -- å¹´é¾„
gender text NULL          -- æ€§åˆ«ï¼ˆç”·/å¥³/unknownï¼‰
```

å…ƒæ•°æ®ç»“æ„ï¼ˆextraction_metadata.structuredï¼‰ï¼š
```json
{
  "success": true,
  "confidence": 80,
  "method": "rule-based-extractor",
  "warnings": ["Age not found"],
  "errors": null
}
```

### 3. Edge Function æ›´æ–°

**parse-resume** - `supabase/functions/parse-resume/index.ts`

ä¸»è¦æ”¹åŠ¨ï¼š
- ä½¿ç”¨ ExtractorFactory è·å–æå–å™¨å®ä¾‹
- è°ƒç”¨ extractor.extract(rawText) è·å–ç»“æ„åŒ–æ•°æ®
- å°†ç»“æœä¿å­˜åˆ°æ•°æ®åº“ï¼ˆåŒ…æ‹¬æ–°å­—æ®µï¼‰
- å°†å…ƒæ•°æ®å†™å…¥ extraction_metadata.structured
- ç§»é™¤æ—§çš„ extractInformation å‡½æ•°

### 4. UI æ›´æ–°

**ç±»å‹å®šä¹‰** - `src/lib/supabase.ts`
- Candidate æ¥å£æ–°å¢ age å’Œ gender å­—æ®µ

**è¯¦æƒ…é¡µ** - `src/components/CandidateDetailPage.tsx`
- æ˜¾ç¤º age å’Œ gender å­—æ®µ
- å¸ƒå±€è°ƒæ•´ï¼Œå¢åŠ ä¸¤ä¸ªå­—æ®µå±•ç¤º

**åˆ—è¡¨é¡µ** - `src/components/CandidatesPage.tsx`
- å¡ç‰‡ä¸­æ˜¾ç¤º school/age/gender
- ç½‘æ ¼å¸ƒå±€æ‰©å±•ä»¥å®¹çº³æ–°å­—æ®µ

### 5. æ–‡æ¡£

**è¯¦ç»†æŒ‡å—**ï¼ˆè‹±æ–‡ï¼‰- `STRUCTURED_EXTRACTION_GUIDE.md`
- æ¶æ„è®¾è®¡è¯´æ˜
- æ ¸å¿ƒç»„ä»¶ä»‹ç»
- æ·»åŠ æ–°æå–å™¨çš„æ­¥éª¤
- æµ‹è¯•æ–¹æ³•
- æ•…éšœæ’æŸ¥

**é›†æˆè¯´æ˜**ï¼ˆä¸­æ–‡ï¼‰- æœ¬æ–‡æ¡£

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ’ä»¶å¼æ¶æ„

```
ä¸»æµç¨‹ (parse-resume)
    â†“
ExtractorFactory.getExtractor()
    â†“ (æ ¹æ® EXTRACTOR_TYPE é€‰æ‹©)
    â”œâ”€â†’ RuleBasedExtractor (å½“å‰)
    â”œâ”€â†’ AIExtractor (æœªæ¥)
    â””â”€â†’ OCRExtractor (æœªæ¥)
    â†“
StructuredData {name, school, education, age, gender}
    â†“
æ•°æ®åº“ (candidates è¡¨)
```

### æ¥å£å¥‘çº¦

æ‰€æœ‰æå–å™¨å¿…é¡»å®ç°ï¼š

```typescript
interface StructuredExtractor {
  readonly name: string;
  readonly version: string;

  extract(rawText: string): Promise<ExtractionResult> | ExtractionResult;
}
```

**å…³é”®åŸåˆ™**ï¼š
- çº¯å‡½æ•°ï¼šæ— å‰¯ä½œç”¨ã€æ— æ•°æ®åº“è°ƒç”¨ã€æ— HTTPè¯·æ±‚
- ä¸æŠ›å¼‚å¸¸ï¼šæ€»æ˜¯è¿”å›ç»“æœï¼ˆå¸¦ errors æ•°ç»„ï¼‰
- è¿”å›ç©ºå€¼ï¼šç¼ºå¤±æ•°æ®è¿”å›ç©ºå­—ç¬¦ä¸²/nullï¼Œä¸è¦å¤±è´¥

### å½“å‰å®ç°ï¼ˆè§„åˆ™æå–å™¨ï¼‰

**æå–æ¨¡å¼**ï¼š

| å­—æ®µ | æå–æ¨¡å¼ç¤ºä¾‹ |
|------|-------------|
| å§“å | `å§“å: å¼ ä¸‰`ï¼Œé¦–è¡Œ 2-10 å­—ç¬¦ |
| å­¦æ ¡ | `åŒ—äº¬å¤§å­¦`ï¼Œ`MIT University`ï¼Œå¤§å­¦åç§° |
| å­¦å† | `åšå£«`ã€`ç¡•å£«`ã€`æœ¬ç§‘`ã€`Master`ã€`Bachelor` |
| å¹´é¾„ | `å¹´é¾„: 25`ã€`25å²`ã€ä»å‡ºç”Ÿå¹´ä»½è®¡ç®— |
| æ€§åˆ« | `æ€§åˆ«: ç”·`ã€`Gender: Male`ã€`ç”·`/`å¥³` |

**é²æ£’æ€§**ï¼š
- ç©ºæ–‡æœ¬ â†’ è¿”å›ç©ºç»“æœï¼Œä¸æŠ¥é”™
- ç¼ºå¤±å­—æ®µ â†’ è¿”å›ç©ºå€¼ï¼Œè®°å½•è­¦å‘Š
- å¹´é¾„æ ¡éªŒ â†’ èŒƒå›´ 18-70
- ç½®ä¿¡åº¦ â†’ æ ¹æ®æå–åˆ°çš„å­—æ®µæ•°é‡è®¡ç®—ï¼ˆ0-100%ï¼‰

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å¯åŠ¨æœåŠ¡

ä¸ä¹‹å‰ä¸€æ ·ï¼š
```bash
./START_SERVICES.sh  # Linux/Mac
# æˆ–
START_SERVICES.bat   # Windows
```

### ä¸Šä¼ ç®€å†æµ‹è¯•

1. ç™»å½•ç³»ç»Ÿ
2. åˆ›å»ºèŒä½
3. ä¸Šä¼  PDF ç®€å†
4. ç³»ç»Ÿè‡ªåŠ¨ï¼š
   - æå– PDF æ–‡æœ¬ï¼ˆPython æœåŠ¡ï¼‰
   - æå–ç»“æ„åŒ–å­—æ®µï¼ˆè§„åˆ™æå–å™¨ï¼‰
   - ä¿å­˜åˆ°æ•°æ®åº“
5. æŸ¥çœ‹å€™é€‰äººåˆ—è¡¨/è¯¦æƒ…
6. éªŒè¯å­—æ®µæ˜¯å¦æ­£ç¡®æå–

### æŸ¥çœ‹æå–ç»“æœ

**å€™é€‰äººåˆ—è¡¨**ï¼š
- æ˜¾ç¤º nameã€schoolã€educationã€ageã€gender
- ç©ºå€¼æ˜¾ç¤ºä¸º "N/A"

**å€™é€‰äººè¯¦æƒ…**ï¼š
- å®Œæ•´ä¿¡æ¯å±•ç¤º
- åŒ…æ‹¬ Extracted Text åŒºåŸŸå¯æŸ¥çœ‹åŸæ–‡
- extraction_metadata åŒ…å«æå–è¯¦æƒ…ï¼ˆæ•°æ®åº“ä¸­ï¼‰

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

**Edge Function ç¯å¢ƒå˜é‡**ï¼ˆSupabase è®¾ç½®ï¼‰ï¼š
```bash
EXTRACTOR_TYPE=rule-based  # æå–å™¨ç±»å‹ï¼ˆé»˜è®¤ï¼‰

# æœªæ¥æ¥å…¥ AI æ—¶ï¼š
# EXTRACTOR_TYPE=ai
# OPENAI_API_KEY=sk-...
```

### åˆ‡æ¢æå–å™¨

æœªæ¥æ¥å…¥ AI æå–å™¨æ—¶ï¼Œåªéœ€ï¼š
1. åˆ›å»º AIExtractor å®ç°
2. åœ¨ ExtractorFactory æ³¨å†Œ
3. è®¾ç½®ç¯å¢ƒå˜é‡ `EXTRACTOR_TYPE=ai`
4. æ— éœ€ä¿®æ”¹ä¸»æµç¨‹ä»£ç ï¼

## ğŸ”„ æ·»åŠ æ–°æå–å™¨ï¼ˆç¤ºä¾‹ï¼šAIï¼‰

### æ­¥éª¤æ¦‚è§ˆ

1. **åˆ›å»ºå®ç°** - å®ç° StructuredExtractor æ¥å£
   ```typescript
   export class AIExtractor implements StructuredExtractor {
     readonly name = "ai-extractor";
     readonly version = "1.0.0";

     async extract(rawText: string): Promise<ExtractionResult> {
       // è°ƒç”¨ OpenAI/Claude API
       // è§£æ AI å“åº”
       // è¿”å› StructuredData
     }
   }
   ```

2. **æ³¨å†Œåˆ°å·¥å‚** - åœ¨ ExtractorFactory æ·»åŠ  case
   ```typescript
   case "ai":
     return new AIExtractor();
   ```

3. **è®¾ç½®ç¯å¢ƒå˜é‡**
   ```bash
   EXTRACTOR_TYPE=ai
   OPENAI_API_KEY=sk-...
   ```

4. **éƒ¨ç½²** - é‡æ–°éƒ¨ç½² Edge Function

5. **æµ‹è¯•** - ç³»ç»Ÿè‡ªåŠ¨ä½¿ç”¨ AI æå–å™¨ï¼Œæ— éœ€å…¶ä»–æ”¹åŠ¨ï¼

## ğŸ“Š æ•°æ®æµç¨‹

```
ç”¨æˆ·ä¸Šä¼  PDF
    â†“
PDF æ–‡æœ¬æå–ï¼ˆPython æœåŠ¡ï¼‰
    â†“
raw_text å­˜å…¥æ•°æ®åº“
    â†“
parse-resume Edge Function
    â†“
ExtractorFactory.getExtractor()
    â†“
extractor.extract(rawText)
    â†“
StructuredData
    â†“
ä¿å­˜åˆ°æ•°æ®åº“ï¼š
  - name, school, education, age, gender (é¡¶å±‚å­—æ®µ)
  - extraction_metadata.structured (å®Œæ•´å…ƒæ•°æ®)
    â†“
UI å±•ç¤º
```

## ğŸ¯ å­—æ®µè¯´æ˜

### æ ¸å¿ƒå­—æ®µï¼ˆ5ä¸ªï¼‰

| å­—æ®µ | ç±»å‹ | è¯´æ˜ | æœªæå–åˆ°æ—¶ |
|------|------|------|-----------|
| name | string | å§“å | ç©ºå­—ç¬¦ä¸² "" |
| school | string | å­¦æ ¡ | ç©ºå­—ç¬¦ä¸² "" |
| education | string | å­¦å† | ç©ºå­—ç¬¦ä¸² "" |
| age | integer | å¹´é¾„ | null |
| gender | string | æ€§åˆ« | "unknown" |

### é™„åŠ å­—æ®µï¼ˆå…¼å®¹ç°æœ‰ç³»ç»Ÿï¼‰

- phone (ç”µè¯)
- email (é‚®ç®±)
- major (ä¸“ä¸š)
- graduation_date (æ¯•ä¸šæ—¶é—´)
- work_years (å·¥ä½œå¹´é™)
- skills (æŠ€èƒ½æ•°ç»„)
- projects (é¡¹ç›®æ•°ç»„)

### å…ƒæ•°æ®å­—æ®µ

- extraction_confidence (ç½®ä¿¡åº¦ 0-100)
- extraction_method (æå–æ–¹æ³•åç§°)
- extraction_timestamp (æå–æ—¶é—´æˆ³)
- warnings (è­¦å‘Šæ•°ç»„)
- errors (é”™è¯¯æ•°ç»„)

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ï¼šæ‰€æœ‰å­—æ®µéƒ½æ˜¯ç©º

**æ£€æŸ¥**ï¼š
1. æŸ¥çœ‹ `extraction_status` æ˜¯å¦ä¸º "success"
2. æŸ¥çœ‹ `extraction_metadata.structured.errors`
3. æŸ¥çœ‹ `extraction_metadata.structured.warnings`

**è§£å†³**ï¼š
- å¦‚æœ raw_text ä¸ºç©ºï¼šPDF æå–å¤±è´¥ï¼Œæ£€æŸ¥ pdf-extractor æœåŠ¡
- å¦‚æœ raw_text ä¸ä¸ºç©ºä½†å­—æ®µç©ºï¼šç®€å†æ ¼å¼ä¸åŒ¹é…ï¼Œè€ƒè™‘ä½¿ç”¨ AI æå–å™¨

### é—®é¢˜ï¼šæå–å™¨ä¸æ­£ç¡®

**æ£€æŸ¥**ï¼š
1. Edge Function æ—¥å¿—ä¸­çš„ "Using extractor: ..." ä¿¡æ¯
2. æ•°æ®åº“ `extraction_metadata.structured.method` å­—æ®µ

**è§£å†³**ï¼š
- åœ¨ Supabase è®¾ç½®ä¸­é…ç½®æ­£ç¡®çš„ `EXTRACTOR_TYPE`
- é‡æ–°éƒ¨ç½² Edge Function

### é—®é¢˜ï¼šç½®ä¿¡åº¦å¤ªä½

**æ£€æŸ¥**ï¼š
1. æŸ¥çœ‹ `extraction_metadata.structured.confidence`
2. æŸ¥çœ‹ `extraction_metadata.structured.warnings`

**è§£å†³**ï¼š
- å¦‚æœç½®ä¿¡åº¦ < 60%ï¼šå»ºè®®äººå·¥å¤æ ¸
- ä¸ºç‰¹å®šæ ¼å¼æ·»åŠ æ›´å¤šæå–è§„åˆ™
- è€ƒè™‘ä½¿ç”¨ AI æå–å™¨æé«˜å‡†ç¡®ç‡

## âš¡ æ€§èƒ½å¯¹æ¯”

### è§„åˆ™æå–å™¨ï¼ˆå½“å‰ï¼‰
- **é€Ÿåº¦**ï¼šæå¿«ï¼ˆ< 10msï¼‰
- **æˆæœ¬**ï¼šå…è´¹
- **å‡†ç¡®ç‡**ï¼š60-80%ï¼ˆå–å†³äºç®€å†æ ¼å¼ï¼‰
- **é€‚ç”¨åœºæ™¯**ï¼šå¤§æ‰¹é‡ã€æ ‡å‡†æ ¼å¼ç®€å†

### AI æå–å™¨ï¼ˆæœªæ¥ï¼‰
- **é€Ÿåº¦**ï¼šè¾ƒæ…¢ï¼ˆ1-3ç§’ï¼‰
- **æˆæœ¬**ï¼š~Â¥0.07/ä»½
- **å‡†ç¡®ç‡**ï¼š90-95%
- **é€‚ç”¨åœºæ™¯**ï¼šå¤æ‚æ ¼å¼ã€éœ€è¦é«˜å‡†ç¡®ç‡

### æ··åˆæ¨¡å¼ï¼ˆæœªæ¥è®¡åˆ’ï¼‰
1. å…ˆç”¨è§„åˆ™æå–å™¨ï¼ˆå¿«é€Ÿã€å…è´¹ï¼‰
2. å¦‚æœç½®ä¿¡åº¦ < 60%ï¼Œä½¿ç”¨ AI
3. å…¼é¡¾é€Ÿåº¦å’Œå‡†ç¡®ç‡

## ğŸš€ æœªæ¥æ‰©å±•

å·²é¢„ç•™æ‰©å±•ç‚¹ï¼Œå¯è½»æ¾æ·»åŠ ï¼š

### 1. AI æå–å™¨
- OpenAI GPT-4 é›†æˆ
- Claude é›†æˆ
- è‡ªå®šä¹‰ prompt é’ˆå¯¹ä¸åŒç®€å†ç±»å‹

### 2. OCR æå–å™¨
- å¤„ç†æ‰«æä»¶ PDF
- Tesseract æˆ– AWS Textract
- å½“ extraction_status === "needs_review" æ—¶è‡ªåŠ¨å›é€€

### 3. å¤šè¯­è¨€æ”¯æŒ
- è‹±æ–‡ç®€å†æå–æ¨¡å¼
- è‡ªåŠ¨è¯­è¨€æ£€æµ‹
- è¯­è¨€ç‰¹å®šçš„æå–å™¨

### 4. æ··åˆæ¨¡å¼
- å¤šä¸ªæå–å™¨å¹¶è¡Œè¿è¡Œ
- ç»“æœåˆå¹¶
- ä½¿ç”¨æœ€é«˜ç½®ä¿¡åº¦ç»“æœ

### 5. å­¦ä¹ ç³»ç»Ÿ
- è·Ÿè¸ªäººå·¥ä¿®æ­£
- æ”¹è¿›æå–è§„åˆ™
- å…¬å¸ç‰¹å®šçš„è‡ªå®šä¹‰è§„åˆ™

## ğŸ“ æ–‡ä»¶ç»“æ„

```
project/
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ functions/
â”‚   â”‚   â”œâ”€â”€ shared/                          # å…±äº«æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ extractor-interface.ts      # æ¥å£å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ extractor-factory.ts        # å·¥å‚æ¨¡å¼
â”‚   â”‚   â”‚   â””â”€â”€ rule-based-extractor.ts     # è§„åˆ™å®ç°
â”‚   â”‚   â””â”€â”€ parse-resume/
â”‚   â”‚       â”œâ”€â”€ index.ts                     # ä¸»æµç¨‹ï¼ˆå·²æ›´æ–°ï¼‰
â”‚   â”‚       â”œâ”€â”€ extractor-interface.ts       # æ¥å£å‰¯æœ¬
â”‚   â”‚       â”œâ”€â”€ extractor-factory.ts         # å·¥å‚å‰¯æœ¬
â”‚   â”‚       â””â”€â”€ rule-based-extractor.ts      # å®ç°å‰¯æœ¬
â”‚   â””â”€â”€ migrations/
â”‚       â””â”€â”€ *_add_age_gender_fields.sql      # æ•°æ®åº“è¿ç§»
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ CandidateDetailPage.tsx          # è¯¦æƒ…é¡µï¼ˆå·²æ›´æ–°ï¼‰
â”‚   â”‚   â””â”€â”€ CandidatesPage.tsx               # åˆ—è¡¨é¡µï¼ˆå·²æ›´æ–°ï¼‰
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ supabase.ts                       # ç±»å‹å®šä¹‰ï¼ˆå·²æ›´æ–°ï¼‰
â”‚
â”œâ”€â”€ STRUCTURED_EXTRACTION_GUIDE.md            # è¯¦ç»†æŒ‡å—ï¼ˆè‹±æ–‡ï¼‰
â””â”€â”€ ç»“æ„åŒ–æå–é›†æˆè¯´æ˜.md                      # æœ¬æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰
```

## âœ… éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶

- [x] ä¸Šä¼  PDF ç®€å†åèƒ½æå–åˆ°ç»“æ„åŒ–å­—æ®µ
- [x] nameã€schoolã€educationã€ageã€gender æ˜¾ç¤ºåœ¨åˆ—è¡¨å’Œè¯¦æƒ…é¡µ
- [x] ç©ºå€¼æ˜¾ç¤ºä¸º "N/A" æˆ– "unknown"
- [x] extraction_metadata.structured åŒ…å«å®Œæ•´å…ƒæ•°æ®
- [x] æå–å¤±è´¥ä¸ä¼šä¸­æ–­æµç¨‹
- [x] raw_text ä»å¯æŸ¥çœ‹ç”¨äºäººå·¥å¤æ ¸

### æ¶æ„éªŒæ”¶

- [x] æå–é€»è¾‘å®Œå…¨ç‹¬ç«‹ï¼Œä¸è€¦åˆä¸»æµç¨‹
- [x] æ¥å£æ¸…æ™°ï¼Œæ˜“äºç†è§£
- [x] å·¥å‚æ¨¡å¼å®ç°ï¼Œæ”¯æŒåˆ‡æ¢
- [x] çº¯å‡½æ•°ï¼Œæ— å‰¯ä½œç”¨
- [x] é”™è¯¯å¤„ç†å®Œå–„ï¼Œä»ä¸æŠ›å¼‚å¸¸
- [x] å¯é€šè¿‡ç¯å¢ƒå˜é‡åˆ‡æ¢å®ç°

### å¯æ‰©å±•æ€§éªŒæ”¶

- [x] å¯è½»æ¾æ·»åŠ æ–°æå–å™¨ï¼ˆAI/OCRï¼‰
- [x] æ·»åŠ æ–°æå–å™¨æ— éœ€ä¿®æ”¹ä¸»æµç¨‹
- [x] æ”¯æŒå¤šæå–å™¨å¹¶å­˜
- [x] å…ƒæ•°æ®ç»“æ„å¯æ‰©å±•

## ğŸ“ æ€»ç»“

### å·²å®Œæˆ

âœ… **æ’ä»¶å¼æ¶æ„**ï¼šæå–é€»è¾‘å®Œå…¨æŠ½ç¦»ï¼Œæ˜“äºæ›¿æ¢
âœ… **è§„åˆ™æå–å™¨**ï¼šåŸºäºæ­£åˆ™/å¯å‘å¼ï¼Œæå– 5 ä¸ªæ ¸å¿ƒå­—æ®µ
âœ… **æ•°æ®åº“æ›´æ–°**ï¼šæ–°å¢ age/gender å­—æ®µï¼Œå…ƒæ•°æ®ç»“æ„åŒ–
âœ… **UI å±•ç¤º**ï¼šåˆ—è¡¨å’Œè¯¦æƒ…é¡µæ˜¾ç¤ºæ–°å­—æ®µ
âœ… **é²æ£’æ€§**ï¼šå¼‚å¸¸å¤„ç†å®Œå–„ï¼Œä»ä¸ä¸­æ–­æµç¨‹
âœ… **å¯æ‰©å±•æ€§**ï¼šä¸º AI/OCR æå–å™¨é¢„ç•™æ¥å£
âœ… **æ–‡æ¡£å®Œæ•´**ï¼šä¸­è‹±æ–‡æ¡£ã€ç¤ºä¾‹ä»£ç ã€æ•…éšœæ’æŸ¥

### ç³»ç»ŸçŠ¶æ€

- **å½“å‰æå–å™¨**ï¼šrule-based-extractor v1.0.0
- **æå–å­—æ®µ**ï¼šname, school, education, age, gender + é™„åŠ å­—æ®µ
- **å‡†ç¡®ç‡**ï¼š60-80%ï¼ˆæ ‡å‡†æ ¼å¼ç®€å†ï¼‰
- **æ€§èƒ½**ï¼š< 10ms per resume
- **æˆæœ¬**ï¼šå…è´¹

### ä½¿ç”¨å»ºè®®

1. **ç«‹å³å¯ç”¨**ï¼šå½“å‰è§„åˆ™æå–å™¨è¶³å¤Ÿå¤„ç†å¤§éƒ¨åˆ†æ ‡å‡†ç®€å†
2. **ç›‘æ§ç½®ä¿¡åº¦**ï¼šè§‚å¯Ÿ extraction_confidenceï¼Œä½äº 60% è€ƒè™‘äººå·¥å¤æ ¸
3. **å‡†å¤‡ AI**ï¼šå½“éœ€è¦æ›´é«˜å‡†ç¡®ç‡æ—¶ï¼ŒæŒ‰æŒ‡å—æ¥å…¥ AI æå–å™¨
4. **è¿­ä»£ä¼˜åŒ–**ï¼šæ ¹æ®å®é™…ç®€å†æ ¼å¼è°ƒæ•´æå–è§„åˆ™

### ä¸‹ä¸€æ­¥

1. **æµ‹è¯•**ï¼šç”¨çœŸå®ç®€å†æµ‹è¯•æå–æ•ˆæœ
2. **ç›‘æ§**ï¼šè§‚å¯Ÿç½®ä¿¡åº¦åˆ†å¸ƒå’Œç¼ºå¤±å­—æ®µ
3. **ä¼˜åŒ–**ï¼šæ ¹æ®åé¦ˆè°ƒæ•´è§„åˆ™
4. **æ‰©å±•**ï¼šéœ€è¦æ—¶æ¥å…¥ AI æå–å™¨

---

**åŠŸèƒ½å·²äº¤ä»˜å®Œæˆï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨ï¼** ğŸ‰

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š
- è¯¦ç»†æŒ‡å—ï¼ˆè‹±æ–‡ï¼‰ï¼š`STRUCTURED_EXTRACTION_GUIDE.md`
- æœ¬æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰ï¼š`ç»“æ„åŒ–æå–é›†æˆè¯´æ˜.md`
- PDF æå–æŒ‡å—ï¼š`PDF_EXTRACTION_SETUP.md`
